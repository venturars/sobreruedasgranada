<script>
  import type { Locales } from "../interface";

  class ModalSuccess extends HTMLElement {
    private dialog: HTMLDialogElement;
    constructor() {
      super();
    }

    connectedCallback(): void {
      this.dialog = this.querySelector("#modalSuccess") as HTMLDialogElement;
    }

    disconnectedCallback(): void {}

    openModal(locales: Locales.ModalSuccess): void {
      this.dialog.querySelector("#modalSuccessTitle").textContent =
        locales.title;
      this.dialog.querySelector("#modalSuccessText").innerHTML = locales.text;
      this.dialog.showModal();
    }
  }

  customElements.define("astro-modal-success", ModalSuccess);
</script>

<astro-modal-success>
  <dialog id="modalSuccess" class="modal">
    <div class="modal-box text-black">
      <form method="dialog">
        <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2"
          >âœ•</button
        >
      </form>
      <div class="prose prose-base">
        <h4 id="modalSuccessTitle" class="font-bold mb-4 text-lg"></h4>
        <div id="modalSuccessText"></div>
      </div>
    </div>
    <form method="dialog" class="modal-backdrop">
      <button></button>
    </form>
  </dialog>
</astro-modal-success>
